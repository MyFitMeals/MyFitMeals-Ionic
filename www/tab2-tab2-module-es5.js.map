{"version":3,"sources":["webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","Tab2Page","http","favoritesService","authService","loadingController","registerForm","name","required","calories","proteins","fats","carbs","instructions","preparationTime","ingredients","tips","event","target","files","length","file","images","loadFavorites","create","cssClass","message","loading","present","formData","FormData","append","value","post","subscribe","res","console","log","err","isAdmin","getFavorites","getAllRecipes","selector","template"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ion-header mode = \\\"ios\\\" translucent>\\n  <ion-toolbar mode = \\\"ios\\\" color=\\\"danger\\\">\\n\\n    <ion-title>Mes favoris</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Page de profil - A VENIR !</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n  <ion-list>\\n    <ion-item class=\\\"eventItem\\\" *ngFor = \\\"let recipe of getFavorites()\\\" [id]=\\\"recipe.id\\\" lines=\\\"none\\\" >\\n      <app-recipes [recipe] = \\\"recipe\\\" [routerLink]=\\\"['/recipes', recipe._id]\\\"></app-recipes>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-text *ngIf = \\\"noFavorites()\\\">\\n        Vous n'avez pas ajouté de favoris.\\n      </ion-text>\\n    </ion-item>\\n\\n  </ion-list>\\n\\n</ion-content>\\n\\n<!-- <ion-content [fullscreen]=\\\"true\\\">\\n  <ion-header collapse=\\\"condense\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Ajouter une recette</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n\\n<form [formGroup] = \\\"registerForm\\\">\\n  <div>\\n    <ion-list lines=\\\"full\\\" class=\\\"ion-no-margin ion-no-padding\\\">\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Nom recette</ion-label>\\n        <ion-input type = \\\"text\\\" name = \\\"recipeName\\\" formControlName=\\\"name\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Calories</ion-label>\\n        <ion-input type = \\\"number\\\" name = \\\"calories\\\" formControlName=\\\"calories\\\" ></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Protéines</ion-label>\\n        <ion-input type = \\\"number\\\" name = \\\"proteins\\\" formControlName=\\\"proteins\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Lipides</ion-label>\\n        <ion-input type = \\\"number\\\" name = \\\"fats\\\" formControlName=\\\"fats\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Glucides</ion-label>\\n        <ion-input type = \\\"number\\\" name = \\\"carbs\\\" formControlName=\\\"carbs\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Instructions</ion-label>\\n        <ion-textarea type = \\\"text\\\" name = \\\"instructions\\\" formControlName=\\\"instructions\\\"></ion-textarea>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Ingredients</ion-label>\\n        <ion-textarea type = \\\"text\\\" name = \\\"ingredients\\\" formControlName=\\\"ingredients\\\"></ion-textarea>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Temps de préparation</ion-label>\\n        <ion-input type = \\\"number\\\" name = \\\"preparationTime\\\" formControlName=\\\"preparationTime\\\"></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-label position = \\\"floating\\\">Conseils</ion-label>\\n        <ion-textarea type = \\\"text\\\" name = \\\"tips\\\" formControlName=\\\"tips\\\"></ion-textarea>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-input type = \\\"file\\\" name = \\\"image\\\" (change) = \\\"selectImage($event)\\\"></ion-input>\\n      </ion-item>\\n    </ion-list>\\n\\n  </div>\\n  <br/>\\n  <div>\\n    <button type = \\\"submit\\\" (click) = \\\"onSubmit()\\\" style=\\\"font-size: 20px; margin-left: 10px;\\\">Ajouter recette</button>\\n  </div>\\n\\n</form>\\n\\n</ion-content> -->\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { ComponentsModule } from './../components/components.module';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule,\n    ReactiveFormsModule,\n    FormsModule,\n    ComponentsModule\n  ],\n  declarations: [Tab2Page]\n})\nexport class Tab2PageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MifQ== */\";","import { LoadingController } from '@ionic/angular';\nimport { AuthService } from './../services/auth.service';\nimport { FavoritesService } from './../services/favorites.service';\nimport { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n\n  private images;\n\n  registerForm = new FormGroup(\n    {\n      name: new FormControl('', Validators.required),\n      calories: new FormControl('', Validators.required),\n      proteins: new FormControl('', Validators.required),\n      fats: new FormControl('', Validators.required),\n      carbs: new FormControl('', Validators.required),\n      instructions: new FormControl('', Validators.required),\n      preparationTime: new FormControl('', Validators.required),\n      ingredients: new FormControl('', Validators.required),\n      tips: new FormControl('', Validators.required),\n    }\n  );\n\n  \n/*   ngOnInit() {\n    console.log('Tab 2 entering Ion')\n    this.loadRecipes().then(res =>\n      {\n        loading.then(loaded =>\n          {\n            console.log('inside loading');\n            console.log(res);\n            loaded.dismiss();\n          })\n      });\n    let loading = this.presentLoading();\n  } */\n\n\n  constructor(private http: HttpClient, private favoritesService: FavoritesService,\n              private authService: AuthService, public loadingController: LoadingController) {}\n          \n\n  selectImage(event) {\n    if(event.target.files.length > 0) \n    {\n      const file = event.target.files[0];\n      this.images = file;\n    }\n  }\n\n  async loadRecipes() {\n    /*     await this.backendService.loadRecipes();\n        this.recipes = this.backendService.getRecipes(); */\n    \n        await this.favoritesService.loadFavorites();\n      }\n\n\n      async presentLoading() {\n        const loading = await this.loadingController.create({\n          cssClass: 'my-custom-class',\n          message: 'Veuillez patienter..'\n        });\n        await loading.present();\n        return loading;\n      }\n\n  onSubmit() {\n\n    const formData = new FormData();\n    formData.append('file', this.images);\n    formData.append('name', this.registerForm.value.name);\n    formData.append('calories', this.registerForm.value.calories);\n    formData.append('proteins', this.registerForm.value.proteins);\n    formData.append('fats', this.registerForm.value.fats);\n    formData.append('carbs', this.registerForm.value.carbs);\n    formData.append('instructions', this.registerForm.value.instructions);\n    formData.append('preparationTime', this.registerForm.value.preparationTime);\n    formData.append('ingredients', this.registerForm.value.ingredients);\n    formData.append('tips', this.registerForm.value.tips);\n\n\n    this.http.post<any>('https://myfitmeals.herokuapp.com/recipes/', formData).subscribe(\n      (res) => console.log(res),\n      (err) => console.log(err)\n    );\n  }\n\n  getFavorites()\n  {\n    console.log('is Admin ? : ');\n    console.log(this.authService.isAdmin());\n    return this.favoritesService.getFavorites();\n  }\n\n  noFavorites()\n  {\n    return this.favoritesService.getFavorites().length == 0;\n  }\n\n  getRecipes()\n  {\n    this.authService.getAllRecipes().subscribe(res => {\n      console.log(res);\n      console.log('aftre');\n      console.log(res['recipes']);\n      console.log(this.favoritesService.getFavorites())\n      //return res['recipes']\n\n      \n    });\n  }\n\n\n}\n"]}