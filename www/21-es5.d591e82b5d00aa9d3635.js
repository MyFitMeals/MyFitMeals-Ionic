function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{tmrb:function(e,t,n){"use strict";n.r(t),n.d(t,"Tab1PageModule",(function(){return L}));var r,i,o,s=n("j1ZV"),c=n("TEn/"),a=n("ofXK"),u=n("3Pt+"),l=n("qtYk"),b=n("s0Bq"),p=n("tyNb"),f=n("mrSG"),d=n("fXoL"),h=n("cygB"),m=n("VHP5"),v=((i=function(){function e(t,n){_classCallCheck(this,e),this.backendService=t,this.recipesLoader=n}return _createClass(e,[{key:"getProteins",value:function(){return this.proteins}},{key:"getCarbs",value:function(){return this.carbs}},{key:"getFats",value:function(){return this.fats}},{key:"applyMacros",value:function(e,t,n){this.proteins=e,this.fats=t,this.carbs=n,this.recipesLoader.filterMacros(this.proteins,this.fats,this.carbs)}},{key:"resetMacros",value:function(){this.proteins=0,this.fats=0,this.carbs=0,this.recipesLoader.loadRecipes()}}]),e}()).\u0275fac=function(e){return new(e||i)(d.Sb(h.a),d.Sb(m.a))},i.\u0275prov=d.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),g=((r=function(){function e(t,n,r){_classCallCheck(this,e),this.macroService=t,this.popOverController=n,this.formBuilder=r}return _createClass(e,[{key:"ngOnInit",value:function(){this.macrosForm=this.formBuilder.group({proteins:["",[u.m.required]],carbs:["",[u.m.required]],fats:["",[u.m.required]]})}},{key:"setQuantity",value:function(e,t){"proteins"===e&&(this.proteins=t),"carbs"===e&&(this.carbs=t),"fats"===e&&(this.fats=t),console.log(e),console.log(t)}},{key:"onSubmit",value:function(){this.macroService.applyMacros(this.proteins,this.fats,this.carbs),this.dismissPopover()}},{key:"dismissPopover",value:function(){var e=this;this.popOverController&&this.popOverController.dismiss().then((function(){e.popOverController=null}))}},{key:"resetMacros",value:function(){this.macroService.resetMacros()}}]),e}()).\u0275fac=function(e){return new(e||r)(d.Jb(v),d.Jb(c.O),d.Jb(u.a))},r.\u0275cmp=d.Db({type:r,selectors:[["app-macros"]],decls:17,vars:2,consts:[[3,"formGroup","ngSubmit"],["mode","ios"],["position","floating"],["type","number","name","proteins","formControlName","proteins",3,"input"],["type","number","name","carbs","formControlName","carbs",3,"input"],["type","number","name","fats","formControlName","fats",3,"input"],["mode","ios","type","submit",2,"font-size","20px","margin-left","10px",3,"disabled"],["mode","ios","color","danger",3,"click"]],template:function(e,t){1&e&&(d.Ob(0,"form",0),d.Wb("ngSubmit",(function(){return t.onSubmit()})),d.Ob(1,"ion-item",1),d.Ob(2,"ion-label",2),d.lc(3,"Prot\xe9ines"),d.Nb(),d.Ob(4,"ion-input",3),d.Wb("input",(function(e){return t.setQuantity("proteins",e.target.value)})),d.Nb(),d.Nb(),d.Ob(5,"ion-item",1),d.Ob(6,"ion-label",2),d.lc(7,"Glucides"),d.Nb(),d.Ob(8,"ion-input",4),d.Wb("input",(function(e){return t.setQuantity("carbs",e.target.value)})),d.Nb(),d.Nb(),d.Ob(9,"ion-item",1),d.Ob(10,"ion-label",2),d.lc(11,"Lipides"),d.Nb(),d.Ob(12,"ion-input",5),d.Wb("input",(function(e){return t.setQuantity("fats",e.target.value)})),d.Nb(),d.Nb(),d.Ob(13,"ion-button",6),d.lc(14,"Valider"),d.Nb(),d.Ob(15,"ion-button",7),d.Wb("click",(function(){return t.resetMacros()})),d.lc(16,"Reset"),d.Nb(),d.Nb()),2&e&&(d.bc("formGroup",t.macrosForm),d.zb(13),d.bc("disabled",!t.macrosForm.valid))},directives:[u.n,u.j,u.e,c.v,c.w,c.u,c.L,u.i,u.c,c.f],styles:[""]}),r),y=n("lGQG"),O=((o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275cmp=d.Db({type:o,selectors:[["app-header"]],decls:4,vars:0,consts:[["mode","ios","translucent",""],["mode","ios","color","danger"]],template:function(e,t){1&e&&(d.Ob(0,"ion-header",0),d.Ob(1,"ion-toolbar",1),d.Ob(2,"ion-title"),d.lc(3,"MyFitMeals"),d.Nb(),d.Nb(),d.Nb())},directives:[c.r,c.H,c.G],styles:[""]}),o),C=n("Uz4/"),k=function(e){return["/recipes",e]};function N(e,t){if(1&e&&(d.Ob(0,"ion-item",5),d.Kb(1,"app-recipes",6),d.Nb()),2&e){var n=t.$implicit;d.bc("id",n.id),d.zb(1),d.bc("recipe",n)("routerLink",d.dc(3,k,n._id))}}var P=function(){return["/add-recipe"]};function F(e,t){1&e&&(d.Ob(0,"div"),d.Ob(1,"ion-fab",7),d.Ob(2,"ion-fab-button",8),d.Kb(3,"ion-icon",9),d.Nb(),d.Nb(),d.Nb()),2&e&&(d.zb(2),d.bc("routerLink",d.cc(1,P)))}var S,_,w,M=function(e){return{visibility:e}},x=[{path:"",component:(S=function(){function e(t,n,r,i,o,s,c){_classCallCheck(this,e),this.backendService=t,this.loadingController=n,this.popoverController=r,this.recipesLoder=i,this.router=o,this.macrosService=s,this.authService=c,this.proteinFiltered=!1,this.carbsFiltered=!1,this.fatsFiltered=!1}return _createClass(e,[{key:"loadRecipes",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.recipesLoder.loadRecipes();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getRecipes",value:function(){return this.recipesLoder.getRecipes()}},{key:"presentLoading",value:function(){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Veuillez patienter.."});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"presentPopover",value:function(e){return Object(f.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:g,cssClass:"my-custom-class",event:e,translucent:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"goToRecipeDetails",value:function(e){this.router.navigate(["/recipes",e])}},{key:"getProteins",value:function(){return 0!==this.macrosService.getProteins()&&this.macrosService.getProteins()?(this.proteinFiltered=!0,this.macrosService.getProteins()):(this.proteinFiltered=!1,0)}},{key:"getCarbs",value:function(){return 0!==this.macrosService.getCarbs()&&this.macrosService.getCarbs()?(this.carbsFiltered=!0,this.macrosService.getCarbs()):(this.carbsFiltered=!1,0)}},{key:"getFats",value:function(){return 0!==this.macrosService.getFats()&&this.macrosService.getFats()?(this.fatsFiltered=!0,this.macrosService.getFats()):(this.fatsFiltered=!1,0)}},{key:"isAdmin",value:function(){return this.authService.isAdmin()}}]),e}(),S.\u0275fac=function(e){return new(e||S)(d.Jb(h.a),d.Jb(c.K),d.Jb(c.O),d.Jb(m.a),d.Jb(p.g),d.Jb(v),d.Jb(y.a))},S.\u0275cmp=d.Db({type:S,selectors:[["app-tab1"]],decls:18,vars:14,consts:[[1,"recipesFilters"],["outline","true","color","primary",3,"ngStyle"],["mode","ios","color","danger",3,"click"],["class","eventItem","lines","none",3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],["lines","none",1,"eventItem",3,"id"],[3,"recipe","routerLink"],["horizontal","end","vertical","bottom","slot","fixed"],["color","danger",3,"routerLink"],["name","add"]],template:function(e,t){1&e&&(d.Kb(0,"app-header"),d.Ob(1,"ion-content"),d.Ob(2,"div",0),d.Ob(3,"ion-chip",1),d.Ob(4,"ion-label"),d.lc(5),d.Nb(),d.Nb(),d.Ob(6,"ion-chip",1),d.Ob(7,"ion-label"),d.lc(8),d.Nb(),d.Nb(),d.Ob(9,"ion-chip",1),d.Ob(10,"ion-label"),d.lc(11),d.Nb(),d.Nb(),d.Ob(12,"ion-chip",2),d.Wb("click",(function(e){return t.presentPopover(e)})),d.lc(13," Filtrer par macros "),d.Nb(),d.Nb(),d.Ob(14,"ion-list"),d.jc(15,N,2,5,"ion-item",3),d.Nb(),d.Nb(),d.Ob(16,"ion-footer"),d.jc(17,F,4,2,"div",4),d.Nb()),2&e&&(d.zb(3),d.bc("ngStyle",d.dc(8,M,t.proteinFiltered?"inherit":"hidden")),d.zb(2),d.nc("P ",t.getProteins(),""),d.zb(1),d.bc("ngStyle",d.dc(10,M,t.carbsFiltered?"inherit":"hidden")),d.zb(2),d.nc("G ",t.getCarbs(),""),d.zb(1),d.bc("ngStyle",d.dc(12,M,t.fatsFiltered?"inherit":"hidden")),d.zb(2),d.nc("L ",t.getFats(),""),d.zb(4),d.bc("ngForOf",t.getRecipes()),d.zb(2),d.bc("ngIf",t.isAdmin()))},directives:[O,c.n,c.m,a.j,c.w,c.x,a.h,c.q,a.i,c.v,C.a,c.P,p.h,c.o,c.p,c.s],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin:10px 0}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}.myCard[_ngcontent-%COMP%]{position:relative}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{padding-right:10px;padding-top:10px}.recipesFilters[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{text-align:right}"]}),S)},{path:":recipeId",component:b.a}],z=((w=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:w}),w.\u0275inj=d.Gb({factory:function(e){return new(e||w)},imports:[[p.j.forChild(x)],p.j]}),w),L=((_=function e(){_classCallCheck(this,e)}).\u0275mod=d.Hb({type:_}),_.\u0275inj=d.Gb({factory:function(e){return new(e||_)},imports:[[c.I,a.b,u.f,l.a,s.a,z]]}),_)}}]);