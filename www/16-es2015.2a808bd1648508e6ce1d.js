(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1/MI":function(e,t,o){"use strict";o.r(t),o.d(t,"AddRecipePageModule",(function(){return u}));var n=o("ofXK"),i=o("3Pt+"),r=o("TEn/"),b=o("tyNb"),s=o("mrSG"),a=o("fXoL"),p=o("tk/3"),c=o("VHP5");const l=[{path:"",component:(()=>{class e{constructor(e,t,o,n,r){this.http=e,this.popoverController=t,this.toastController=o,this.router=n,this.recipesLoader=r,this.registerForm=new i.d({name:new i.b("",i.m.required),calories:new i.b("",i.m.required),proteins:new i.b("",i.m.required),fats:new i.b("",i.m.required),carbs:new i.b("",i.m.required),instructions:new i.b("",i.m.required),preparationTime:new i.b("",i.m.required),ingredients:new i.b("",i.m.required),tips:new i.b("",i.m.required)})}ngOnInit(){}selectImage(e){e.target.files.length>0&&(this.images=e.target.files[0])}onSubmit(){const e=new FormData;e.append("file",this.images),e.append("name",this.registerForm.value.name),e.append("calories",this.registerForm.value.calories),e.append("proteins",this.registerForm.value.proteins),e.append("fats",this.registerForm.value.fats),e.append("carbs",this.registerForm.value.carbs),e.append("instructions",this.registerForm.value.instructions),e.append("preparationTime",this.registerForm.value.preparationTime),e.append("ingredients",this.registerForm.value.ingredients),e.append("tips",this.registerForm.value.tips),this.http.post("https://myfitmeals.herokuapp.com/recipes/",e).subscribe(e=>{this.presentToast("Recette ajout\xe9e avec succ\xe8s !"),console.log(e),this.recipesLoader.loadRecipes().then(e=>{this.router.navigate(["tabs/tab1"])})},e=>{console.log(e),this.presentToast("Echec d'ajout de la recette... !")})}presentToast(e){return Object(s.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:e,duration:1e3})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(a.Jb(p.b),a.Jb(r.O),a.Jb(r.S),a.Jb(b.g),a.Jb(c.a))},e.\u0275cmp=a.Db({type:e,selectors:[["app-add-recipe"]],decls:61,vars:1,consts:[["slot","start"],[3,"formGroup"],["position","floating"],["type","text","name","recipeName","formControlName","name"],["type","number","name","calories","formControlName","calories"],["type","number","name","proteins","formControlName","proteins"],["type","number","name","fats","formControlName","fats"],["type","number","name","carbs","formControlName","carbs"],["type","text","name","instructions","formControlName","instructions"],["type","text","name","ingredients","formControlName","ingredients"],["type","number","name","preparationTime","formControlName","preparationTime"],["type","text","name","tips","formControlName","tips"],["type","file","name","image",3,"change"],["type","submit",2,"font-size","20px","margin-left","10px",3,"click"]],template:function(e,t){1&e&&(a.Mb(0,"ion-header"),a.Mb(1,"ion-toolbar"),a.Mb(2,"ion-buttons",0),a.Kb(3,"ion-back-button"),a.Lb(),a.Mb(4,"ion-title"),a.hc(5,"addRecipe"),a.Lb(),a.Lb(),a.Lb(),a.Mb(6,"ion-content"),a.Mb(7,"ion-grid"),a.Mb(8,"form",1),a.Mb(9,"ion-row"),a.Mb(10,"ion-col"),a.Mb(11,"ion-label",2),a.hc(12,"Nom recette"),a.Lb(),a.Kb(13,"ion-input",3),a.Lb(),a.Lb(),a.Mb(14,"ion-row"),a.Mb(15,"ion-col"),a.Mb(16,"ion-label",2),a.hc(17,"Calories"),a.Lb(),a.Kb(18,"ion-input",4),a.Lb(),a.Lb(),a.Mb(19,"ion-row"),a.Mb(20,"ion-col"),a.Mb(21,"ion-label",2),a.hc(22,"Prot\xe9ines"),a.Lb(),a.Kb(23,"ion-input",5),a.Lb(),a.Lb(),a.Mb(24,"ion-row"),a.Mb(25,"ion-col"),a.Mb(26,"ion-label",2),a.hc(27,"Lipides"),a.Lb(),a.Kb(28,"ion-input",6),a.Lb(),a.Lb(),a.Mb(29,"ion-row"),a.Mb(30,"ion-col"),a.Mb(31,"ion-label",2),a.hc(32,"Glucides"),a.Lb(),a.Kb(33,"ion-input",7),a.Lb(),a.Lb(),a.Mb(34,"ion-row"),a.Mb(35,"ion-col"),a.Mb(36,"ion-label",2),a.hc(37,"Instructions"),a.Lb(),a.Kb(38,"ion-textarea",8),a.Lb(),a.Lb(),a.Mb(39,"ion-row"),a.Mb(40,"ion-col"),a.Mb(41,"ion-label",2),a.hc(42,"Ingredients"),a.Lb(),a.Kb(43,"ion-textarea",9),a.Lb(),a.Lb(),a.Mb(44,"ion-row"),a.Mb(45,"ion-col"),a.Mb(46,"ion-label",2),a.hc(47,"Temps de pr\xe9paration"),a.Lb(),a.Kb(48,"ion-input",10),a.Lb(),a.Lb(),a.Mb(49,"ion-row"),a.Mb(50,"ion-col"),a.Mb(51,"ion-label",2),a.hc(52,"Conseils"),a.Lb(),a.Kb(53,"ion-textarea",11),a.Lb(),a.Lb(),a.Mb(54,"ion-row"),a.Mb(55,"ion-col"),a.Mb(56,"ion-input",12),a.Ub("change",(function(e){return t.selectImage(e)})),a.Lb(),a.Lb(),a.Lb(),a.Mb(57,"ion-row"),a.Mb(58,"ion-col"),a.Mb(59,"ion-button",13),a.Ub("click",(function(){return t.onSubmit()})),a.hc(60,"Ajouter recette"),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb(),a.Lb()),2&e&&(a.zb(8),a.Zb("formGroup",t.registerForm))},directives:[r.r,r.I,r.g,r.c,r.d,r.H,r.n,r.q,i.n,i.j,i.e,r.z,r.m,r.w,r.u,r.R,i.i,i.c,r.M,r.G,r.f],styles:[""]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[b.j.forChild(l)],b.j]}),e})(),u=(()=>{class e{}return e.\u0275mod=a.Hb({type:e}),e.\u0275inj=a.Gb({factory:function(t){return new(t||e)},imports:[[n.b,i.f,r.J,i.l,m]]}),e})()}}]);