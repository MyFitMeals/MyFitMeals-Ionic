(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{tmrb:function(t,e,i){"use strict";i.r(e),i.d(e,"Tab1PageModule",(function(){return M}));var r=i("j1ZV"),n=i("TEn/"),o=i("ofXK"),s=i("3Pt+"),c=i("qtYk"),a=i("s0Bq"),b=i("tyNb"),l=i("mrSG"),p=i("fXoL"),u=i("cygB"),d=i("VHP5");let h=(()=>{class t{constructor(t,e){this.backendService=t,this.recipesLoader=e}getProteins(){return this.proteins}getCarbs(){return this.carbs}getFats(){return this.fats}applyMacros(t,e,i){this.proteins=t,this.fats=e,this.carbs=i,this.recipesLoader.filterMacros(this.proteins,this.fats,this.carbs)}resetMacros(){this.proteins=0,this.fats=0,this.carbs=0,this.recipesLoader.loadRecipes()}}return t.\u0275fac=function(e){return new(e||t)(p.Sb(u.a),p.Sb(d.a))},t.\u0275prov=p.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),m=(()=>{class t{constructor(t,e,i){this.macroService=t,this.popOverController=e,this.formBuilder=i}ngOnInit(){this.macrosForm=this.formBuilder.group({proteins:["",[s.m.required]],carbs:["",[s.m.required]],fats:["",[s.m.required]]})}setQuantity(t,e){"proteins"===t&&(this.proteins=e),"carbs"===t&&(this.carbs=e),"fats"===t&&(this.fats=e),console.log(t),console.log(e)}onSubmit(){this.macroService.applyMacros(this.proteins,this.fats,this.carbs),this.dismissPopover()}dismissPopover(){this.popOverController&&this.popOverController.dismiss().then(()=>{this.popOverController=null})}resetMacros(){this.macroService.resetMacros()}}return t.\u0275fac=function(e){return new(e||t)(p.Jb(h),p.Jb(n.O),p.Jb(s.a))},t.\u0275cmp=p.Db({type:t,selectors:[["app-macros"]],decls:17,vars:2,consts:[[3,"formGroup","ngSubmit"],["mode","ios"],["position","floating"],["type","number","name","proteins","formControlName","proteins",3,"input"],["type","number","name","carbs","formControlName","carbs",3,"input"],["type","number","name","fats","formControlName","fats",3,"input"],["mode","ios","type","submit",2,"font-size","20px","margin-left","10px",3,"disabled"],["mode","ios","color","danger",3,"click"]],template:function(t,e){1&t&&(p.Ob(0,"form",0),p.Wb("ngSubmit",(function(){return e.onSubmit()})),p.Ob(1,"ion-item",1),p.Ob(2,"ion-label",2),p.lc(3,"Prot\xe9ines"),p.Nb(),p.Ob(4,"ion-input",3),p.Wb("input",(function(t){return e.setQuantity("proteins",t.target.value)})),p.Nb(),p.Nb(),p.Ob(5,"ion-item",1),p.Ob(6,"ion-label",2),p.lc(7,"Glucides"),p.Nb(),p.Ob(8,"ion-input",4),p.Wb("input",(function(t){return e.setQuantity("carbs",t.target.value)})),p.Nb(),p.Nb(),p.Ob(9,"ion-item",1),p.Ob(10,"ion-label",2),p.lc(11,"Lipides"),p.Nb(),p.Ob(12,"ion-input",5),p.Wb("input",(function(t){return e.setQuantity("fats",t.target.value)})),p.Nb(),p.Nb(),p.Ob(13,"ion-button",6),p.lc(14,"Valider"),p.Nb(),p.Ob(15,"ion-button",7),p.Wb("click",(function(){return e.resetMacros()})),p.lc(16,"Reset"),p.Nb(),p.Nb()),2&t&&(p.bc("formGroup",e.macrosForm),p.zb(13),p.bc("disabled",!e.macrosForm.valid))},directives:[s.n,s.j,s.e,n.v,n.w,n.u,n.L,s.i,s.c,n.f],styles:[""]}),t})();var f=i("lGQG");let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=p.Db({type:t,selectors:[["app-header"]],decls:4,vars:0,consts:[["mode","ios","translucent",""],["mode","ios","color","danger"]],template:function(t,e){1&t&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-toolbar",1),p.Ob(2,"ion-title"),p.lc(3,"MyFitMeals"),p.Nb(),p.Nb(),p.Nb())},directives:[n.r,n.H,n.G],styles:[""]}),t})();var v=i("Uz4/");const O=function(t){return["/recipes",t]};function y(t,e){if(1&t&&(p.Ob(0,"ion-item",5),p.Kb(1,"app-recipes",6),p.Nb()),2&t){const t=e.$implicit;p.bc("id",t.id),p.zb(1),p.bc("recipe",t)("routerLink",p.dc(3,O,t._id))}}const N=function(){return["/add-recipe"]};function C(t,e){1&t&&(p.Ob(0,"div"),p.Ob(1,"ion-fab",7),p.Ob(2,"ion-fab-button",8),p.Kb(3,"ion-icon",9),p.Nb(),p.Nb(),p.Nb()),2&t&&(p.zb(2),p.bc("routerLink",p.cc(1,N)))}const F=function(t){return{visibility:t}},S=[{path:"",component:(()=>{class t{constructor(t,e,i,r,n,o,s){this.backendService=t,this.loadingController=e,this.popoverController=i,this.recipesLoder=r,this.router=n,this.macrosService=o,this.authService=s,this.proteinFiltered=!1,this.carbsFiltered=!1,this.fatsFiltered=!1}loadRecipes(){return Object(l.a)(this,void 0,void 0,(function*(){this.recipesLoder.loadRecipes()}))}getRecipes(){return this.recipesLoder.getRecipes()}presentLoading(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({cssClass:"my-custom-class",message:"Veuillez patienter.."});return yield t.present(),t}))}presentPopover(t){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.popoverController.create({component:m,cssClass:"my-custom-class",event:t,translucent:!0});return yield e.present()}))}goToRecipeDetails(t){this.router.navigate(["/recipes",t])}getProteins(){return 0!==this.macrosService.getProteins()&&this.macrosService.getProteins()?(this.proteinFiltered=!0,this.macrosService.getProteins()):(this.proteinFiltered=!1,0)}getCarbs(){return 0!==this.macrosService.getCarbs()&&this.macrosService.getCarbs()?(this.carbsFiltered=!0,this.macrosService.getCarbs()):(this.carbsFiltered=!1,0)}getFats(){return 0!==this.macrosService.getFats()&&this.macrosService.getFats()?(this.fatsFiltered=!0,this.macrosService.getFats()):(this.fatsFiltered=!1,0)}isAdmin(){return this.authService.isAdmin()}}return t.\u0275fac=function(e){return new(e||t)(p.Jb(u.a),p.Jb(n.K),p.Jb(n.O),p.Jb(d.a),p.Jb(b.g),p.Jb(h),p.Jb(f.a))},t.\u0275cmp=p.Db({type:t,selectors:[["app-tab1"]],decls:18,vars:14,consts:[[1,"recipesFilters"],["outline","true","color","primary",3,"ngStyle"],["mode","ios","color","danger",3,"click"],["class","eventItem","lines","none",3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],["lines","none",1,"eventItem",3,"id"],[3,"recipe","routerLink"],["horizontal","end","vertical","bottom","slot","fixed"],["color","danger",3,"routerLink"],["name","add"]],template:function(t,e){1&t&&(p.Kb(0,"app-header"),p.Ob(1,"ion-content"),p.Ob(2,"div",0),p.Ob(3,"ion-chip",1),p.Ob(4,"ion-label"),p.lc(5),p.Nb(),p.Nb(),p.Ob(6,"ion-chip",1),p.Ob(7,"ion-label"),p.lc(8),p.Nb(),p.Nb(),p.Ob(9,"ion-chip",1),p.Ob(10,"ion-label"),p.lc(11),p.Nb(),p.Nb(),p.Ob(12,"ion-chip",2),p.Wb("click",(function(t){return e.presentPopover(t)})),p.lc(13," Filtrer par macros "),p.Nb(),p.Nb(),p.Ob(14,"ion-list"),p.jc(15,y,2,5,"ion-item",3),p.Nb(),p.Nb(),p.Ob(16,"ion-footer"),p.jc(17,C,4,2,"div",4),p.Nb()),2&t&&(p.zb(3),p.bc("ngStyle",p.dc(8,F,e.proteinFiltered?"inherit":"hidden")),p.zb(2),p.nc("P ",e.getProteins(),""),p.zb(1),p.bc("ngStyle",p.dc(10,F,e.carbsFiltered?"inherit":"hidden")),p.zb(2),p.nc("G ",e.getCarbs(),""),p.zb(1),p.bc("ngStyle",p.dc(12,F,e.fatsFiltered?"inherit":"hidden")),p.zb(2),p.nc("L ",e.getFats(),""),p.zb(4),p.bc("ngForOf",e.getRecipes()),p.zb(2),p.bc("ngIf",e.isAdmin()))},directives:[g,n.n,n.m,o.j,n.w,n.x,o.h,n.q,o.i,n.v,v.a,n.P,b.h,n.o,n.p,n.s],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin:10px 0}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}.myCard[_ngcontent-%COMP%]{position:relative}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{padding-right:10px;padding-top:10px}.recipesFilters[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{text-align:right}"]}),t})()},{path:":recipeId",component:a.a}];let P=(()=>{class t{}return t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({factory:function(e){return new(e||t)},imports:[[b.j.forChild(S)],b.j]}),t})(),M=(()=>{class t{}return t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({factory:function(e){return new(e||t)},imports:[[n.I,o.b,s.f,c.a,r.a,P]]}),t})()}}]);