(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"2c9M":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c}));const i={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},o=()=>{i.selection()},r=()=>{i.selectionStart()},s=()=>{i.selectionChanged()},c=()=>{i.selectionEnd()},a=t=>{i.impact(t)}},"6i10":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));const i={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const i=`${t*e/n-t}ms`,o=2*Math.PI*e/n;return{r:5,style:{top:`${9*Math.sin(o)}px`,left:`${9*Math.cos(o)}px`,"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const i=e/n,o=`${t*i-t}ms`,r=2*Math.PI*i;return{r:5,style:{top:`${9*Math.sin(r)}px`,left:`${9*Math.cos(r)}px`,"animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:`${9-9*e}px`,"animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":`${t*e/n-t}ms`}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":`${t*e/n-t}ms`}})}}},DlXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n("QX1p"),o=n("ItpF"),r=n("2c9M");const s=(t,e)=>{let n;const s=(t,i,o)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(t,i);r&&e(r)?r!==n&&(a(),c(r,o)):a()},c=(t,e)=>{n=t;const o=n;Object(i.n)(()=>o.classList.add("ion-activated")),e()},a=(t=!1)=>{if(!n)return;const e=n;Object(i.n)(()=>e.classList.remove("ion-activated")),t&&n.click(),n=void 0};return Object(o.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>s(t.currentX,t.currentY,r.a),onMove:t=>s(t.currentX,t.currentY,r.b),onEnd:()=>{a(!0),Object(r.e)()}})}},NqGI:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));const i=async(t,e,n,i,o)=>{if(t)return t.attachViewToDom(e,n,o,i);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return i&&i.forEach(t=>r.classList.add(t)),o&&Object.assign(r,o),e.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},o=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},U8oy:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n("fXoL");let o=(()=>{class t{constructor(){this.favorites=[],console.log("I am in favorites services")}addFavorite(t){this.favorites.push(t)}removeFavorite(t){this.favorites=this.favorites.filter(e=>{if(e._id!==t._id)return!0})}getFavorites(){return this.favorites}isFavorite(t){return this.containsRecipe(t)}containsRecipe(t){let e=!1;return this.favorites.forEach(n=>{console.log(n._id),console.log(t._id),n._id==t._id&&(console.log("INSIDE TRUE"),e=!0)}),e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Uz4/":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("fXoL"),o=n("jhN1"),r=n("cygB"),s=n("TEn/");let c=(()=>{class t{constructor(t,e){this.sanitizer=t,this.backendService=e}ngOnInit(){}getRecipeIngredients(t){return this.recipe.ingredients.substring(0,t)+"..."}}return t.\u0275fac=function(e){return new(e||t)(i.Jb(o.b),i.Jb(r.a))},t.\u0275cmp=i.Db({type:t,selectors:[["app-recipes"]],inputs:{recipe:"recipe"},decls:20,vars:5,consts:[[1,"myCard"],[1,"testOverlay"],["color","light"],["name","flame-outline",2,"color","red","font-size","16px"],[3,"src"],["name","star",2,"color","yellow","font-size","16px"],["name","alarm-outline",2,"color","red","font-size","16px"]],template:function(t,e){1&t&&(i.Mb(0,"ion-card",0),i.Mb(1,"div",1),i.Mb(2,"ion-badge",2),i.Kb(3,"ion-icon",3),i.hc(4),i.Lb(),i.Lb(),i.Kb(5,"ion-img",4),i.Mb(6,"ion-card-header"),i.Mb(7,"ion-card-title"),i.hc(8),i.Lb(),i.Mb(9,"ion-card-subtitle"),i.Kb(10,"ion-icon",5),i.Kb(11,"ion-icon",5),i.Kb(12,"ion-icon",5),i.Kb(13,"ion-icon",5),i.Kb(14,"ion-icon",5),i.hc(15," \xa0 "),i.Kb(16,"ion-icon",6),i.hc(17),i.Lb(),i.Lb(),i.Mb(18,"ion-card-content"),i.hc(19),i.Lb(),i.Lb()),2&t&&(i.zb(4),i.jc(" ",e.recipe.calories," cal"),i.zb(1),i.Zb("src",e.recipe.imageURL),i.zb(3),i.ic(e.recipe.name),i.zb(9),i.jc(" ",e.recipe.preparationTime,"min "),i.zb(2),i.jc(" ",e.getRecipeIngredients(100)," "))},directives:[s.g,s.d,s.r,s.s,s.i,s.k,s.j,s.h],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin:10px 0}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}.myCard[_ngcontent-%COMP%]{position:relative}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{text-align:right;padding-right:10px;padding-top:10px}"]}),t})()},cygB:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("mrSG"),o=n("Cfvw"),r=n("fXoL"),s=n("tk/3"),c=n("XSEc"),a=n("TEn/");let l=(()=>{class t{constructor(t,e,n,i){this.http=t,this.httpNative=e,this.plt=n,this.loadingCtrl=i}getHttp(t){return console.log("calling standard Http"),this.http.get(t).toPromise()}getHttpNative(t){console.log("Calling Native Http");let e=this.httpNative.get(t,{},{"Content-Type":"application/json"});return Object(o.a)(e).pipe().toPromise()}getHelloWorld(){return Object(i.a)(this,void 0,void 0,(function*(){return console.log("Im here in service !"),this.plt.is("cordova")?yield this.getHttpNative("https://myfitmeals.herokuapp.com/").then(t=>{console.log(t),this.data=JSON.parse(t.data)}):yield this.getHttp("https://myfitmeals.herokuapp.com/").then(t=>{console.log(t),this.data=t}),console.log(this.data),this.data}))}getData(){return console.log(this.data),this.data}loadRecipes(){return Object(i.a)(this,void 0,void 0,(function*(){this.plt.is("cordova")?yield this.getHttpNative("https://myfitmeals.herokuapp.com/recipes").then(t=>{console.log(t),this.recipes=JSON.parse(t.data)}):yield this.getHttp("https://myfitmeals.herokuapp.com/recipes").then(t=>{console.log(t),this.recipes=t})}))}getRecipes(){return this.recipes}loadRecipeById(t){return Object(i.a)(this,void 0,void 0,(function*(){this.plt.is("cordova")?yield this.getHttpNative("https://myfitmeals.herokuapp.com/recipes/"+t).then(t=>{console.log(t),this.recipe=JSON.parse(t.data)}):yield this.getHttp("https://myfitmeals.herokuapp.com/recipes/"+t).then(t=>{console.log(t),this.recipe=t})}))}getRecipe(){return this.recipe}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(s.a),r.Qb(c.a),r.Qb(a.N),r.Qb(a.L))},t.\u0275prov=r.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},hcCc:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c}));const i=(t,e)=>null!==e.closest(t),o=t=>"string"==typeof t&&t.length>0?{"ion-color":!0,[`ion-color-${t}`]:!0}:void 0,r=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},s=/^[a-z][a-z0-9+\-.]*:/,c=async(t,e,n,i)=>{if(null!=t&&"#"!==t[0]&&!s.test(t)){const o=document.querySelector("ion-router");if(o)return null!=e&&e.preventDefault(),o.push(t,n,i)}return!1}},j1ZV:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n("3Pt+"),o=n("TEn/"),r=n("tyNb"),s=n("ofXK"),c=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=c.Hb({type:t}),t.\u0275inj=c.Gb({factory:function(e){return new(e||t)},imports:[[o.J,s.b,r.i,i.e]]}),t})()},qtYk:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("ofXK"),o=n("3Pt+"),r=n("TEn/"),s=n("fXoL");let c=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[i.b,o.e,r.J]]}),t})()},s0Bq:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var i=n("mrSG"),o=n("fXoL"),r=n("tyNb"),s=n("cygB"),c=n("TEn/"),a=n("U8oy");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-header-back"]],decls:6,vars:0,consts:[["translucent",""],["color","danger"],["slot","start"],["defaultHref","/"]],template:function(t,e){1&t&&(o.Mb(0,"ion-header",0),o.Mb(1,"ion-toolbar",1),o.Mb(2,"ion-buttons",2),o.Kb(3,"ion-back-button",3),o.Lb(),o.Mb(4,"ion-title"),o.hc(5,"MyFitMeals"),o.Lb(),o.Lb(),o.Lb())},directives:[c.q,c.I,c.f,c.b,c.c,c.H],styles:["#logoToolBar[_ngcontent-%COMP%]{text-align:center}#logo[_ngcontent-%COMP%]{width:50%;height:50%}"]}),t})();var p=n("ofXK"),b=n("3Pt+");let u=(()=>{class t{constructor(){}ngOnInit(){}getRecipe(){return this.recipe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Db({type:t,selectors:[["app-macros-recipe"]],inputs:{recipe:"recipe"},decls:20,vars:3,consts:[["lines","none"],[1,"macronutriments"],["id","proteins",1,"macros"],[1,"macrosInfos"],["id","carbs",1,"macros"],["id","fats",1,"macros"]],template:function(t,e){var n,i,r;1&t&&(o.Mb(0,"ion-item",0),o.Mb(1,"div",1),o.Mb(2,"div",2),o.Mb(3,"span",3),o.hc(4),o.Lb(),o.Kb(5,"br"),o.Mb(6,"span"),o.hc(7,"Prot\xe9ines"),o.Lb(),o.Lb(),o.Mb(8,"div",4),o.Mb(9,"span",3),o.hc(10),o.Lb(),o.Kb(11,"br"),o.Mb(12,"span"),o.hc(13,"Glucides"),o.Lb(),o.Lb(),o.Mb(14,"div",5),o.Mb(15,"span",3),o.hc(16),o.Lb(),o.Kb(17,"br"),o.Mb(18,"span"),o.hc(19,"Lipides"),o.Lb(),o.Lb(),o.Lb(),o.Lb()),2&t&&(o.zb(4),o.jc("",null==(n=e.getRecipe())?null:n.proteins,"g"),o.zb(6),o.jc("",null==(i=e.getRecipe())?null:i.carbs,"g"),o.zb(6),o.jc("",null==(r=e.getRecipe())?null:r.fats,"g"))},directives:[c.u],styles:[".macronutriments[_ngcontent-%COMP%]{width:100%;text-align:center;padding:2%}#proteins[_ngcontent-%COMP%]{float:left}#carbs[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}#fats[_ngcontent-%COMP%]{float:right}.macros[_ngcontent-%COMP%]{border:pink;border-style:groove;border-radius:10%;padding:10px}.macrosInfos[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:red}"]}),t})();function d(t,e){if(1&t){const t=o.Nb();o.Mb(0,"ion-fab-button",18),o.Ub("click",(function(){return o.dc(t),o.Wb().favoriteRecipe()})),o.Kb(1,"ion-icon",19),o.Lb()}}function g(t,e){if(1&t){const t=o.Nb();o.Mb(0,"ion-fab-button",18),o.Ub("click",(function(){return o.dc(t),o.Wb().unfavoriteRecipe()})),o.Kb(1,"ion-icon",20),o.Lb()}}function f(t,e){if(1&t&&(o.Mb(0,"ion-list"),o.Mb(1,"ion-item"),o.hc(2," Valeurs nutritionnelles : "),o.Lb(),o.Kb(3,"app-macros-recipe",21),o.Lb()),2&t){const t=o.Wb();o.zb(3),o.Zb("recipe",t.getRecipe())}}function h(t,e){if(1&t&&(o.Mb(0,"ion-item",24),o.hc(1),o.Lb()),2&t){const t=e.$implicit;o.zb(1),o.jc(" -",t,"\n")}}function m(t,e){if(1&t&&(o.Mb(0,"ion-list",22),o.gc(1,h,2,1,"ion-item",23),o.Lb()),2&t){const t=o.Wb();o.zb(1),o.Zb("ngForOf",t.splitIngredients())}}function v(t,e){if(1&t&&(o.Mb(0,"ion-item",24),o.hc(1),o.Lb()),2&t){const t=e.$implicit;o.zb(1),o.jc(" -",t," ")}}function y(t,e){if(1&t&&(o.Mb(0,"ion-list",22),o.gc(1,v,2,1,"ion-item",23),o.Lb()),2&t){const t=o.Wb();o.zb(1),o.Zb("ngForOf",t.splitInstructions())}}function M(t,e){if(1&t&&(o.Mb(0,"ion-item",24),o.hc(1),o.Lb()),2&t){const t=e.$implicit;o.zb(1),o.jc(" -",t," ")}}function L(t,e){if(1&t&&(o.Mb(0,"ion-list"),o.gc(1,M,2,1,"ion-item",23),o.Lb()),2&t){const t=o.Wb();o.zb(1),o.Zb("ngForOf",t.splitTips())}}let C=(()=>{class t{constructor(t,e,n,i,o){this.activatedRoute=t,this.backendService=e,this.loadingController=n,this.toastController=i,this.favoritesService=o}ngOnInit(){this.activatedRoute.paramMap.subscribe(t=>{if(!t.has("recipeId"))return;this.recipeId=t.get("recipeId"),console.log(this.recipeId),this.loadRecipe().then(t=>{e.then(t=>{t.dismiss()}),console.log(this.recipe),this.isFavorite=this.favoritesService.isFavorite(this.recipe),console.log(this.isFavorite)});let e=this.presentLoading();this.featureSegment="A propos"})}loadRecipe(){return Object(i.a)(this,void 0,void 0,(function*(){yield this.backendService.loadRecipeById(this.recipeId),this.recipe=this.backendService.getRecipe()}))}getRecipe(){return this.recipe}presentLoading(){return Object(i.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({cssClass:"my-custom-class",message:"Veuillez patienter.."});return yield t.present(),t}))}favoriteRecipe(){this.isFavorite=!0,this.addFavorite(),this.presentToast("La recette ajout\xe9e aux favoris avec succ\xe8s !"),console.log(this.favoritesService.getFavorites())}unfavoriteRecipe(){this.isFavorite=!1,this.removeFavorite(),this.presentToast("La recette retir\xe9e de vos favoris"),console.log(this.favoritesService.getFavorites())}presentToast(t){return Object(i.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:2e3})).present()}))}addFavorite(){this.favoritesService.addFavorite(this.recipe)}removeFavorite(){this.favoritesService.removeFavorite(this.recipe)}splitIngredients(){let t=this.recipe.ingredients.split("-");return t.shift(),t}splitInstructions(){let t=this.recipe.instructions.split("-");return t.shift(),t}splitTips(){let t=this.recipe.tips.split("-");return t.shift(),t}}return t.\u0275fac=function(e){return new(e||t)(o.Jb(r.a),o.Jb(s.a),o.Jb(c.L),o.Jb(c.S),o.Jb(a.a))},t.\u0275cmp=o.Db({type:t,selectors:[["app-recipe"]],decls:34,vars:12,consts:[[1,"testOverlay"],["color","light"],["name","flame-outline",2,"color","red","font-size","16px"],["name","alarm-outline",2,"color","red","font-size","16px"],["horizontal","start","vertical","bottom","slot","fixed"],["color","warning",3,"click",4,"ngIf"],[1,"recipeImage"],[3,"src"],[1,"name"],["id","recipeName"],[1,"features"],["color","danger",3,"ngModel","ngModelChange"],["value","A propos"],["value","Ingredients"],["value","Instructions"],[3,"ngSwitch"],[4,"ngSwitchCase"],["lines","none",4,"ngSwitchCase"],["color","warning",3,"click"],["name","star-outline"],["name","star"],[3,"recipe"],["lines","none"],["class","instrucText","text-wrap","",4,"ngFor","ngForOf"],["text-wrap","",1,"instrucText"]],template:function(t,e){if(1&t&&(o.Kb(0,"app-header-back"),o.Mb(1,"ion-content"),o.Mb(2,"div",0),o.Mb(3,"ion-badge",1),o.Kb(4,"ion-icon",2),o.hc(5),o.Lb(),o.Kb(6,"br"),o.Mb(7,"ion-badge",1),o.Kb(8,"ion-icon",3),o.hc(9),o.Lb(),o.Mb(10,"ion-fab",4),o.gc(11,d,2,0,"ion-fab-button",5),o.gc(12,g,2,0,"ion-fab-button",5),o.Lb(),o.Lb(),o.Mb(13,"div",6),o.Kb(14,"ion-img",7),o.Lb(),o.Mb(15,"div",8),o.Mb(16,"span",9),o.hc(17),o.Lb(),o.Lb(),o.Mb(18,"div",10),o.Mb(19,"ion-segment",11),o.Ub("ngModelChange",(function(t){return e.featureSegment=t})),o.Mb(20,"ion-segment-button",12),o.Mb(21,"ion-label"),o.hc(22,"A propos"),o.Lb(),o.Lb(),o.Mb(23,"ion-segment-button",13),o.Mb(24,"ion-label"),o.hc(25,"Ingredients"),o.Lb(),o.Lb(),o.Mb(26,"ion-segment-button",14),o.Mb(27,"ion-label"),o.hc(28,"Instructions"),o.Lb(),o.Lb(),o.Lb(),o.Lb(),o.Mb(29,"div",15),o.gc(30,f,4,1,"ion-list",16),o.gc(31,m,2,1,"ion-list",17),o.gc(32,y,2,1,"ion-list",17),o.gc(33,L,2,1,"ion-list",16),o.Lb(),o.Lb()),2&t){var n,i,r;const t=null==(r=e.getRecipe())?null:r.imageURL;var s;o.zb(5),o.jc(" ",null==(n=e.getRecipe())?null:n.calories," cal"),o.zb(4),o.jc(" ",null==(i=e.getRecipe())?null:i.preparationTime," min "),o.zb(2),o.Zb("ngIf",!e.isFavorite),o.zb(1),o.Zb("ngIf",e.isFavorite),o.zb(2),o.Zb("src",t),o.zb(3),o.ic(null==(s=e.getRecipe())?null:s.name),o.zb(2),o.Zb("ngModel",e.featureSegment),o.zb(10),o.Zb("ngSwitch",e.featureSegment),o.zb(1),o.Zb("ngSwitchCase","A propos"),o.zb(1),o.Zb("ngSwitchCase","Ingredients"),o.zb(1),o.Zb("ngSwitchCase","Instructions"),o.zb(1),o.Zb("ngSwitchCase","Conseils")}},directives:[l,c.m,c.d,c.r,c.n,p.i,c.s,c.A,c.Q,b.h,b.j,c.B,c.v,p.j,p.k,c.o,c.w,c.u,u,p.h],styles:["#recipeName[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.name[_ngcontent-%COMP%]{text-align:center;margin-top:5px;margin-bottom:5px}.macronutriments[_ngcontent-%COMP%]{width:100%;text-align:center;padding:2%}#proteins[_ngcontent-%COMP%]{float:left}#carbs[_ngcontent-%COMP%]{display:inline-block;margin:0 auto}#fats[_ngcontent-%COMP%]{float:right}.macros[_ngcontent-%COMP%]{border:pink;border-style:groove;border-radius:10%;padding:10px}.macrosInfos[_ngcontent-%COMP%]{font-size:20px;font-weight:700;color:red}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{text-align:right;padding-right:10px;padding-top:10px}"]}),t})()}}]);