function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{tmrb:function(e,t,n){"use strict";n.r(t),n.d(t,"Tab1PageModule",(function(){return j}));var i,r=n("j1ZV"),o=n("TEn/"),s=n("ofXK"),c=n("3Pt+"),a=n("qtYk"),u=n("s0Bq"),b=n("tyNb"),l=n("mrSG"),f=n("fXoL"),p=n("cygB"),h=n("VHP5"),d=((i=function(){function e(t,n){_classCallCheck(this,e),this.backendService=t,this.recipesLoader=n}return _createClass(e,[{key:"getProteins",value:function(){return this.proteins}},{key:"getCarbs",value:function(){return this.carbs}},{key:"getFats",value:function(){return this.fats}},{key:"applyMacros",value:function(e,t,n){this.proteins=e,this.fats=t,this.carbs=n,this.recipesLoader.filterMacros(this.proteins,this.fats,this.carbs)}},{key:"resetMacros",value:function(){this.proteins=0,this.fats=0,this.carbs=0,this.recipesLoader.loadRecipes()}}]),e}()).\u0275fac=function(e){return new(e||i)(f.Sb(p.a),f.Sb(h.a))},i.\u0275prov=f.Fb({token:i,factory:i.\u0275fac,providedIn:"root"}),i);function g(e,t){if(1&e){var n=f.Pb();f.Ob(0,"ion-list",10),f.Ob(1,"ion-row",11),f.Ob(2,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().decrementProteins()})),f.Kb(3,"ion-icon",13),f.Nb(),f.Ob(4,"ion-input",14),f.Wb("ngModelChange",(function(e){return f.gc(n),f.Yb().proteins=e}))("input",(function(e){return f.gc(n),f.Yb().setQuantity("proteins",e.target.value)})),f.Nb(),f.Ob(5,"h1"),f.lc(6,"g"),f.Nb(),f.Ob(7,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().incrementProteins()})),f.Kb(8,"ion-icon",15),f.Nb(),f.Nb(),f.Nb()}if(2&e){var i=f.Yb();f.zb(4),f.bc("ngModel",i.proteins)}}function v(e,t){if(1&e){var n=f.Pb();f.Ob(0,"ion-list",10),f.Ob(1,"ion-row",11),f.Ob(2,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().decrementCarbs()})),f.Kb(3,"ion-icon",13),f.Nb(),f.Ob(4,"ion-input",14),f.Wb("ngModelChange",(function(e){return f.gc(n),f.Yb().carbs=e}))("input",(function(e){return f.gc(n),f.Yb().setQuantity("carbs",e.target.value)})),f.Nb(),f.Ob(5,"h1"),f.lc(6,"g"),f.Nb(),f.Ob(7,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().incrementCarbs()})),f.Kb(8,"ion-icon",15),f.Nb(),f.Nb(),f.Nb()}if(2&e){var i=f.Yb();f.zb(4),f.bc("ngModel",i.carbs)}}function m(e,t){if(1&e){var n=f.Pb();f.Ob(0,"ion-list",10),f.Ob(1,"ion-row",11),f.Ob(2,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().decrementFats()})),f.Kb(3,"ion-icon",13),f.Nb(),f.Ob(4,"ion-input",14),f.Wb("ngModelChange",(function(e){return f.gc(n),f.Yb().fats=e}))("input",(function(e){return f.gc(n),f.Yb().setQuantity("fats",e.target.value)})),f.Nb(),f.Ob(5,"h1"),f.lc(6,"g"),f.Nb(),f.Ob(7,"ion-button",12),f.Wb("click",(function(){return f.gc(n),f.Yb().incrementFats()})),f.Kb(8,"ion-icon",15),f.Nb(),f.Nb(),f.Nb()}if(2&e){var i=f.Yb();f.zb(4),f.bc("ngModel",i.fats)}}var O,k,y=((O=function(){function e(t,n,i){_classCallCheck(this,e),this.macroService=t,this.popOverController=n,this.formBuilder=i}return _createClass(e,[{key:"ngOnInit",value:function(){this.macrosForm=this.formBuilder.group({proteins:["",[c.m.required]],carbs:["",[c.m.required]],fats:["",[c.m.required]]}),this.valueSegment="proteins"}},{key:"setQuantity",value:function(e,t){"proteins"===e&&(this.proteins=t),"carbs"===e&&(this.carbs=t),"fats"===e&&(this.fats=t),console.log(e),console.log(t)}},{key:"onSubmit",value:function(){this.macroService.applyMacros(this.proteins,this.fats,this.carbs),this.dismissPopover()}},{key:"dismissPopover",value:function(){var e=this;this.popOverController&&this.popOverController.dismiss().then((function(){e.popOverController=null}))}},{key:"resetMacros",value:function(){this.macroService.resetMacros()}},{key:"incrementProteins",value:function(){this.proteins||(this.proteins=0),this.proteins=this.proteins+1}},{key:"decrementProteins",value:function(){this.proteins||(this.proteins=1),this.proteins>0&&(this.proteins=this.proteins-1)}},{key:"incrementCarbs",value:function(){this.carbs||(this.carbs=0),this.carbs=this.carbs+1}},{key:"decrementCarbs",value:function(){this.carbs||(this.carbs=1),this.carbs>0&&(this.carbs=this.carbs-1)}},{key:"incrementFats",value:function(){this.fats||(this.fats=0),this.fats=this.fats+1}},{key:"decrementFats",value:function(){this.fats||(this.fats=1),this.fats>0&&(this.fats=this.fats-1)}},{key:"formValid",value:function(){return!!(this.proteins&&this.carbs&&this.fats)}}]),e}()).\u0275fac=function(e){return new(e||O)(f.Jb(d),f.Jb(o.Y),f.Jb(c.a))},O.\u0275cmp=f.Db({type:O,selectors:[["app-macros"]],decls:20,vars:6,consts:[[1,"popover-content"],[1,"features"],["color","danger","mode","ios",3,"ngModel","ngModelChange"],["value","carbs"],["value","proteins"],["value","fats"],[3,"ngSwitch"],["mode","ios","inset","true",4,"ngSwitchCase"],["mode","ios","color","danger",3,"click"],["mode","ios",2,"margin-right","10px",3,"disabled","click"],["mode","ios","inset","true"],[1,"macroInput"],["mode","ios","fill","clear","expand","full",3,"click"],["name","remove-circle"],["type","number","id","your-input","placeholder","20","min","0","max","100",3,"ngModel","ngModelChange","input"],["name","add-circle"]],template:function(e,t){1&e&&(f.Ob(0,"ion-content",0),f.Ob(1,"div",1),f.Ob(2,"ion-segment",2),f.Wb("ngModelChange",(function(e){return t.valueSegment=e})),f.Ob(3,"ion-segment-button",3),f.Ob(4,"ion-label"),f.lc(5,"Glucides"),f.Nb(),f.Nb(),f.Ob(6,"ion-segment-button",4),f.Ob(7,"ion-label"),f.lc(8,"Prot\xe9ines"),f.Nb(),f.Nb(),f.Ob(9,"ion-segment-button",5),f.Ob(10,"ion-label"),f.lc(11,"Lipides"),f.Nb(),f.Nb(),f.Nb(),f.Nb(),f.Ob(12,"div",6),f.jc(13,g,9,1,"ion-list",7),f.jc(14,v,9,1,"ion-list",7),f.jc(15,m,9,1,"ion-list",7),f.Nb(),f.Ob(16,"ion-button",8),f.Wb("click",(function(){return t.resetMacros()})),f.lc(17,"R\xe9initialiser"),f.Nb(),f.Ob(18,"ion-button",9),f.Wb("click",(function(){return t.onSubmit()})),f.lc(19,"Valider"),f.Nb(),f.Nb()),2&e&&(f.zb(2),f.bc("ngModel",t.valueSegment),f.zb(10),f.bc("ngSwitch",t.valueSegment),f.zb(1),f.bc("ngSwitchCase","proteins"),f.zb(1),f.bc("ngSwitchCase","carbs"),f.zb(1),f.bc("ngSwitchCase","fats"),f.zb(3),f.bc("disabled",!t.formValid()))},directives:[o.n,o.E,o.bb,c.i,c.k,o.F,o.w,s.j,s.k,o.g,o.x,o.C,o.s,o.u,o.V],styles:[".popover-content[_ngcontent-%COMP%]{background:#7fff00}ion-input[_ngcontent-%COMP%]{max-width:20%;font-size:32px;color:#ff4757}.macroInput[_ngcontent-%COMP%]{justify-content:center}ion-icon[_ngcontent-%COMP%]{font-size:60px;color:#ff4757}"]}),O),C=n("lGQG"),N=((k=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||k)},k.\u0275cmp=f.Db({type:k,selectors:[["app-header"]],decls:4,vars:0,consts:[["mode","ios","translucent",""],["mode","ios","color","danger"]],template:function(e,t){1&e&&(f.Ob(0,"ion-header",0),f.Ob(1,"ion-toolbar",1),f.Ob(2,"ion-title"),f.lc(3,"MyFitMeals"),f.Nb(),f.Nb(),f.Nb())},directives:[o.r,o.R,o.P],styles:[""]}),k),w=n("Uz4/"),P=function(e){return["/recipes",e]};function S(e,t){if(1&e&&(f.Ob(0,"ion-item",9),f.Kb(1,"app-recipes",10),f.Nb()),2&e){var n=t.$implicit;f.bc("id",n.id),f.zb(1),f.bc("recipe",n)("routerLink",f.dc(3,P,n._id))}}var M=function(){return["/add-recipe"]};function _(e,t){1&e&&(f.Ob(0,"div"),f.Ob(1,"ion-fab",11),f.Ob(2,"ion-fab-button",12),f.Kb(3,"ion-icon",13),f.Nb(),f.Nb(),f.Nb()),2&e&&(f.zb(2),f.bc("routerLink",f.cc(1,M)))}var x,F,R,z=[{path:"",component:(x=function(){function e(t,n,i,r,o,s,c){_classCallCheck(this,e),this.backendService=t,this.loadingController=n,this.popoverController=i,this.recipesLoder=r,this.router=o,this.macrosService=s,this.authService=c,this.proteinFiltered=!1,this.carbsFiltered=!1,this.fatsFiltered=!1}return _createClass(e,[{key:"filterList",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=e.srcElement.value)?this.recipesLoder.filterBySearch(n):(console.log("empty"),this.recipesLoder.loadRecipes());case 2:case"end":return t.stop()}}),t,this)})))}},{key:"filterBySaltOrSweet",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.detail.checked?this.recipesLoder.filterBySalty():this.recipesLoder.filterBySweety();case 1:case"end":return t.stop()}}),t,this)})))}},{key:"resetRecipes",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.recipesLoder.loadRecipes();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loadRecipes",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.recipesLoder.loadRecipes();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getRecipes",value:function(){return this.recipesLoder.getRecipes()}},{key:"presentLoading",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({cssClass:"my-custom-class",message:"Veuillez patienter.."});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})))}},{key:"presentPopover",value:function(e){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.popoverController.create({component:y,cssClass:"my-custom-class",event:e,translucent:!0});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})))}},{key:"goToRecipeDetails",value:function(e){this.router.navigate(["/recipes",e])}},{key:"getProteins",value:function(){return 0!==this.macrosService.getProteins()&&this.macrosService.getProteins()?(this.proteinFiltered=!0,this.macrosService.getProteins()):(this.proteinFiltered=!1,0)}},{key:"getCarbs",value:function(){return 0!==this.macrosService.getCarbs()&&this.macrosService.getCarbs()?(this.carbsFiltered=!0,this.macrosService.getCarbs()):(this.carbsFiltered=!1,0)}},{key:"getFats",value:function(){return 0!==this.macrosService.getFats()&&this.macrosService.getFats()?(this.fatsFiltered=!0,this.macrosService.getFats()):(this.fatsFiltered=!1,0)}},{key:"isAdmin",value:function(){return this.authService.isAdmin()}}]),e}(),x.\u0275fac=function(e){return new(e||x)(f.Jb(p.a),f.Jb(o.U),f.Jb(o.Y),f.Jb(h.a),f.Jb(b.g),f.Jb(d),f.Jb(C.a))},x.\u0275cmp=f.Db({type:x,selectors:[["app-tab1"]],decls:17,vars:2,consts:[["mode","ios","color","danger","showCancelButton","never",3,"ionInput"],["slot","end"],["id","changeText",3,"click"],["slot","start","name","apps-outline"],["id","saltyOrNot"],["mode","ios",3,"ionChange"],[2,"color","hotpink","text-decoration","underline","font-size","85%","padding-left","10px",3,"click"],["class","eventItem","lines","none",3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],["lines","none",1,"eventItem",3,"id"],[3,"recipe","routerLink"],["horizontal","end","vertical","bottom","slot","fixed"],["color","danger",3,"routerLink"],["name","add"]],template:function(e,t){1&e&&(f.Kb(0,"app-header"),f.Ob(1,"ion-content"),f.Ob(2,"ion-toolbar"),f.Ob(3,"ion-searchbar",0),f.Wb("ionInput",(function(e){return t.filterList(e)})),f.Nb(),f.Ob(4,"ion-buttons",1),f.Ob(5,"ion-button",2),f.Wb("click",(function(e){return t.presentPopover(e)})),f.Kb(6,"ion-icon",3),f.Nb(),f.Nb(),f.Ob(7,"div",4),f.lc(8," Sucr\xe9"),f.Ob(9,"ion-toggle",5),f.Wb("ionChange",(function(e){return t.filterBySaltOrSweet(e)})),f.Nb(),f.lc(10,"Sal\xe9 "),f.Ob(11,"span",6),f.Wb("click",(function(){return t.resetRecipes()})),f.lc(12," Annuler les filtres "),f.Nb(),f.Nb(),f.Nb(),f.Ob(13,"ion-list"),f.jc(14,S,2,5,"ion-item",7),f.Nb(),f.Nb(),f.Ob(15,"ion-footer"),f.jc(16,_,4,2,"div",8),f.Nb()),2&e&&(f.zb(14),f.bc("ngForOf",t.getRecipes()),f.zb(2),f.bc("ngIf",t.isAdmin()))},directives:[N,o.n,o.R,o.D,o.cb,o.h,o.g,o.s,o.Q,o.b,o.x,s.h,o.q,s.i,o.v,w.a,o.ab,b.h,o.o,o.p],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin:10px 0}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}.myCard[_ngcontent-%COMP%]{position:relative}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{padding-right:10px;padding-top:10px}.recipesFilters[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{text-align:right}.my-custom-class[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{background:#222}ion-toggle[_ngcontent-%COMP%]{--background:#ed576b;--background-checked:#eb445a;--handle-background:#fff;--handle-background-checked:#fff}#saltyOrNot[_ngcontent-%COMP%]{padding-left:15px}"]}),x)},{path:":recipeId",component:u.a}],L=((R=function e(){_classCallCheck(this,e)}).\u0275mod=f.Hb({type:R}),R.\u0275inj=f.Gb({factory:function(e){return new(e||R)},imports:[[b.j.forChild(z)],b.j]}),R),j=((F=function e(){_classCallCheck(this,e)}).\u0275mod=f.Hb({type:F}),F.\u0275inj=f.Gb({factory:function(e){return new(e||F)},imports:[[o.S,s.b,c.f,a.a,r.a,L]]}),F)}}]);