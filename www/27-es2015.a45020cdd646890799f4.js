(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{tmrb:function(t,e,n){"use strict";n.r(e),n.d(e,"Tab1PageModule",(function(){return F}));var i=n("j1ZV"),o=n("TEn/"),r=n("ofXK"),s=n("3Pt+"),c=n("qtYk"),a=n("s0Bq"),b=n("tyNb"),l=n("mrSG"),u=n("fXoL"),d=n("cygB"),p=n("VHP5");let h=(()=>{class t{constructor(t,e){this.backendService=t,this.recipesLoader=e}getProteins(){return this.proteins}getCarbs(){return this.carbs}getFats(){return this.fats}applyMacros(t,e,n){this.proteins=t,this.fats=e,this.carbs=n,this.recipesLoader.filterMacros(this.proteins,this.fats,this.carbs)}resetMacros(){this.proteins=0,this.fats=0,this.carbs=0,this.recipesLoader.loadRecipes()}}return t.\u0275fac=function(e){return new(e||t)(u.Sb(d.a),u.Sb(p.a))},t.\u0275prov=u.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function g(t,e){if(1&t){const t=u.Pb();u.Ob(0,"ion-list",10),u.Ob(1,"ion-row",11),u.Ob(2,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().decrementProteins()})),u.Kb(3,"ion-icon",13),u.Nb(),u.Ob(4,"ion-input",14),u.Wb("ngModelChange",(function(e){return u.gc(t),u.Yb().proteins=e}))("input",(function(e){return u.gc(t),u.Yb().setQuantity("proteins",e.target.value)})),u.Nb(),u.Ob(5,"h1"),u.lc(6,"g"),u.Nb(),u.Ob(7,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().incrementProteins()})),u.Kb(8,"ion-icon",15),u.Nb(),u.Nb(),u.Nb()}if(2&t){const t=u.Yb();u.zb(4),u.bc("ngModel",t.proteins)}}function f(t,e){if(1&t){const t=u.Pb();u.Ob(0,"ion-list",10),u.Ob(1,"ion-row",11),u.Ob(2,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().decrementCarbs()})),u.Kb(3,"ion-icon",13),u.Nb(),u.Ob(4,"ion-input",14),u.Wb("ngModelChange",(function(e){return u.gc(t),u.Yb().carbs=e}))("input",(function(e){return u.gc(t),u.Yb().setQuantity("carbs",e.target.value)})),u.Nb(),u.Ob(5,"h1"),u.lc(6,"g"),u.Nb(),u.Ob(7,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().incrementCarbs()})),u.Kb(8,"ion-icon",15),u.Nb(),u.Nb(),u.Nb()}if(2&t){const t=u.Yb();u.zb(4),u.bc("ngModel",t.carbs)}}function m(t,e){if(1&t){const t=u.Pb();u.Ob(0,"ion-list",10),u.Ob(1,"ion-row",11),u.Ob(2,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().decrementFats()})),u.Kb(3,"ion-icon",13),u.Nb(),u.Ob(4,"ion-input",14),u.Wb("ngModelChange",(function(e){return u.gc(t),u.Yb().fats=e}))("input",(function(e){return u.gc(t),u.Yb().setQuantity("fats",e.target.value)})),u.Nb(),u.Ob(5,"h1"),u.lc(6,"g"),u.Nb(),u.Ob(7,"ion-button",12),u.Wb("click",(function(){return u.gc(t),u.Yb().incrementFats()})),u.Kb(8,"ion-icon",15),u.Nb(),u.Nb(),u.Nb()}if(2&t){const t=u.Yb();u.zb(4),u.bc("ngModel",t.fats)}}let O=(()=>{class t{constructor(t,e,n){this.macroService=t,this.popOverController=e,this.formBuilder=n}ngOnInit(){this.macrosForm=this.formBuilder.group({proteins:["",[s.m.required]],carbs:["",[s.m.required]],fats:["",[s.m.required]]}),this.valueSegment="proteins"}setQuantity(t,e){"proteins"===t&&(this.proteins=e),"carbs"===t&&(this.carbs=e),"fats"===t&&(this.fats=e),console.log(t),console.log(e)}onSubmit(){this.macroService.applyMacros(this.proteins,this.fats,this.carbs),this.dismissPopover()}dismissPopover(){this.popOverController&&this.popOverController.dismiss().then(()=>{this.popOverController=null})}resetMacros(){this.macroService.resetMacros()}incrementProteins(){this.proteins||(this.proteins=0),this.proteins=this.proteins+1}decrementProteins(){this.proteins||(this.proteins=1),this.proteins>0&&(this.proteins=this.proteins-1)}incrementCarbs(){this.carbs||(this.carbs=0),this.carbs=this.carbs+1}decrementCarbs(){this.carbs||(this.carbs=1),this.carbs>0&&(this.carbs=this.carbs-1)}incrementFats(){this.fats||(this.fats=0),this.fats=this.fats+1}decrementFats(){this.fats||(this.fats=1),this.fats>0&&(this.fats=this.fats-1)}formValid(){return!!(this.proteins&&this.carbs&&this.fats)}}return t.\u0275fac=function(e){return new(e||t)(u.Jb(h),u.Jb(o.Y),u.Jb(s.a))},t.\u0275cmp=u.Db({type:t,selectors:[["app-macros"]],decls:20,vars:6,consts:[[1,"popover-content"],[1,"features"],["color","danger","mode","ios",3,"ngModel","ngModelChange"],["value","carbs"],["value","proteins"],["value","fats"],[3,"ngSwitch"],["mode","ios","inset","true",4,"ngSwitchCase"],["mode","ios","color","danger",3,"click"],["mode","ios",2,"margin-right","10px",3,"disabled","click"],["mode","ios","inset","true"],[1,"macroInput"],["mode","ios","fill","clear","expand","full",3,"click"],["name","remove-circle"],["type","number","id","your-input","placeholder","20","min","0","max","100",3,"ngModel","ngModelChange","input"],["name","add-circle"]],template:function(t,e){1&t&&(u.Ob(0,"ion-content",0),u.Ob(1,"div",1),u.Ob(2,"ion-segment",2),u.Wb("ngModelChange",(function(t){return e.valueSegment=t})),u.Ob(3,"ion-segment-button",3),u.Ob(4,"ion-label"),u.lc(5,"Glucides"),u.Nb(),u.Nb(),u.Ob(6,"ion-segment-button",4),u.Ob(7,"ion-label"),u.lc(8,"Prot\xe9ines"),u.Nb(),u.Nb(),u.Ob(9,"ion-segment-button",5),u.Ob(10,"ion-label"),u.lc(11,"Lipides"),u.Nb(),u.Nb(),u.Nb(),u.Nb(),u.Ob(12,"div",6),u.jc(13,g,9,1,"ion-list",7),u.jc(14,f,9,1,"ion-list",7),u.jc(15,m,9,1,"ion-list",7),u.Nb(),u.Ob(16,"ion-button",8),u.Wb("click",(function(){return e.resetMacros()})),u.lc(17,"R\xe9initialiser"),u.Nb(),u.Ob(18,"ion-button",9),u.Wb("click",(function(){return e.onSubmit()})),u.lc(19,"Valider"),u.Nb(),u.Nb()),2&t&&(u.zb(2),u.bc("ngModel",e.valueSegment),u.zb(10),u.bc("ngSwitch",e.valueSegment),u.zb(1),u.bc("ngSwitchCase","proteins"),u.zb(1),u.bc("ngSwitchCase","carbs"),u.zb(1),u.bc("ngSwitchCase","fats"),u.zb(3),u.bc("disabled",!e.formValid()))},directives:[o.n,o.E,o.bb,s.i,s.k,o.F,o.w,r.j,r.k,o.g,o.x,o.C,o.s,o.u,o.V],styles:[".popover-content[_ngcontent-%COMP%]{background:#7fff00}ion-input[_ngcontent-%COMP%]{max-width:20%;font-size:32px;color:#ff4757}.macroInput[_ngcontent-%COMP%]{justify-content:center}ion-icon[_ngcontent-%COMP%]{font-size:60px;color:#ff4757}"]}),t})();var v=n("lGQG");let C=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Db({type:t,selectors:[["app-header"]],decls:4,vars:0,consts:[["mode","ios","translucent",""],["mode","ios","color","danger"]],template:function(t,e){1&t&&(u.Ob(0,"ion-header",0),u.Ob(1,"ion-toolbar",1),u.Ob(2,"ion-title"),u.lc(3,"MyFitMeals"),u.Nb(),u.Nb(),u.Nb())},directives:[o.r,o.R,o.P],styles:[""]}),t})();var N=n("Uz4/");const y=function(t){return["/recipes",t]};function S(t,e){if(1&t&&(u.Ob(0,"ion-item",9),u.Kb(1,"app-recipes",10),u.Nb()),2&t){const t=e.$implicit;u.bc("id",t.id),u.zb(1),u.bc("recipe",t)("routerLink",u.dc(3,y,t._id))}}const M=function(){return["/add-recipe"]};function P(t,e){1&t&&(u.Ob(0,"div"),u.Ob(1,"ion-fab",11),u.Ob(2,"ion-fab-button",12),u.Kb(3,"ion-icon",13),u.Nb(),u.Nb(),u.Nb()),2&t&&(u.zb(2),u.bc("routerLink",u.cc(1,M)))}const k=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,r,s){this.backendService=t,this.loadingController=e,this.popoverController=n,this.recipesLoder=i,this.router=o,this.macrosService=r,this.authService=s,this.proteinFiltered=!1,this.carbsFiltered=!1,this.fatsFiltered=!1}filterList(t){return Object(l.a)(this,void 0,void 0,(function*(){const e=t.srcElement.value;e?this.recipesLoder.filterBySearch(e):(console.log("empty"),this.recipesLoder.loadRecipes())}))}filterBySaltOrSweet(t){return Object(l.a)(this,void 0,void 0,(function*(){t.detail.checked?this.recipesLoder.filterBySalty():this.recipesLoder.filterBySweety()}))}resetRecipes(){return Object(l.a)(this,void 0,void 0,(function*(){this.recipesLoder.loadRecipes()}))}loadRecipes(){return Object(l.a)(this,void 0,void 0,(function*(){this.recipesLoder.loadRecipes()}))}getRecipes(){return this.recipesLoder.getRecipes()}presentLoading(){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.loadingController.create({cssClass:"my-custom-class",message:"Veuillez patienter.."});return yield t.present(),t}))}presentPopover(t){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.popoverController.create({component:O,cssClass:"my-custom-class",event:t,translucent:!0});return yield e.present()}))}goToRecipeDetails(t){this.router.navigate(["/recipes",t])}getProteins(){return 0!==this.macrosService.getProteins()&&this.macrosService.getProteins()?(this.proteinFiltered=!0,this.macrosService.getProteins()):(this.proteinFiltered=!1,0)}getCarbs(){return 0!==this.macrosService.getCarbs()&&this.macrosService.getCarbs()?(this.carbsFiltered=!0,this.macrosService.getCarbs()):(this.carbsFiltered=!1,0)}getFats(){return 0!==this.macrosService.getFats()&&this.macrosService.getFats()?(this.fatsFiltered=!0,this.macrosService.getFats()):(this.fatsFiltered=!1,0)}isAdmin(){return this.authService.isAdmin()}}return t.\u0275fac=function(e){return new(e||t)(u.Jb(d.a),u.Jb(o.U),u.Jb(o.Y),u.Jb(p.a),u.Jb(b.g),u.Jb(h),u.Jb(v.a))},t.\u0275cmp=u.Db({type:t,selectors:[["app-tab1"]],decls:17,vars:2,consts:[["mode","ios","color","danger","showCancelButton","never",3,"ionInput"],["slot","end"],["id","changeText",3,"click"],["slot","start","name","apps-outline"],["id","saltyOrNot"],["mode","ios",3,"ionChange"],[2,"color","hotpink","text-decoration","underline","font-size","85%","padding-left","10px",3,"click"],["class","eventItem","lines","none",3,"id",4,"ngFor","ngForOf"],[4,"ngIf"],["lines","none",1,"eventItem",3,"id"],[3,"recipe","routerLink"],["horizontal","end","vertical","bottom","slot","fixed"],["color","danger",3,"routerLink"],["name","add"]],template:function(t,e){1&t&&(u.Kb(0,"app-header"),u.Ob(1,"ion-content"),u.Ob(2,"ion-toolbar"),u.Ob(3,"ion-searchbar",0),u.Wb("ionInput",(function(t){return e.filterList(t)})),u.Nb(),u.Ob(4,"ion-buttons",1),u.Ob(5,"ion-button",2),u.Wb("click",(function(t){return e.presentPopover(t)})),u.Kb(6,"ion-icon",3),u.Nb(),u.Nb(),u.Ob(7,"div",4),u.lc(8," Sucr\xe9"),u.Ob(9,"ion-toggle",5),u.Wb("ionChange",(function(t){return e.filterBySaltOrSweet(t)})),u.Nb(),u.lc(10,"Sal\xe9 "),u.Ob(11,"span",6),u.Wb("click",(function(){return e.resetRecipes()})),u.lc(12," Annuler les filtres "),u.Nb(),u.Nb(),u.Nb(),u.Ob(13,"ion-list"),u.jc(14,S,2,5,"ion-item",7),u.Nb(),u.Nb(),u.Ob(15,"ion-footer"),u.jc(16,P,4,2,"div",8),u.Nb()),2&t&&(u.zb(14),u.bc("ngForOf",e.getRecipes()),u.zb(2),u.bc("ngIf",e.isAdmin()))},directives:[C,o.n,o.R,o.D,o.cb,o.h,o.g,o.s,o.Q,o.b,o.x,r.h,o.q,r.i,o.v,N.a,o.ab,b.h,o.o,o.p],styles:["ion-content[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{margin:10px 0}img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}.myCard[_ngcontent-%COMP%]{position:relative}.myOverlay[_ngcontent-%COMP%]{height:60px;z-index:99;bottom:0;opacity:.5;background:#000;color:#fff}.myOverlay[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{width:100%;position:absolute}.testOverlay[_ngcontent-%COMP%]{padding-right:10px;padding-top:10px}.recipesFilters[_ngcontent-%COMP%], .testOverlay[_ngcontent-%COMP%]{text-align:right}.my-custom-class[_ngcontent-%COMP%]   .popover-content[_ngcontent-%COMP%]{background:#222}ion-toggle[_ngcontent-%COMP%]{--background:#ed576b;--background-checked:#eb445a;--handle-background:#fff;--handle-background-checked:#fff}#saltyOrNot[_ngcontent-%COMP%]{padding-left:15px}"]}),t})()},{path:":recipeId",component:a.a}];let w=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)},imports:[[b.j.forChild(k)],b.j]}),t})(),F=(()=>{class t{}return t.\u0275mod=u.Hb({type:t}),t.\u0275inj=u.Gb({factory:function(e){return new(e||t)},imports:[[o.S,r.b,s.f,c.a,i.a,w]]}),t})()}}]);