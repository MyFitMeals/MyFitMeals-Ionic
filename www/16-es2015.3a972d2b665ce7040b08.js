(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"1/MI":function(e,t,n){"use strict";n.r(t),n.d(t,"AddRecipePageModule",(function(){return u}));var i=n("ofXK"),r=n("3Pt+"),o=n("TEn/"),s=n("tyNb"),a=n("mrSG"),b=n("fXoL"),p=n("tk/3"),m=n("VHP5");const l=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o){this.http=e,this.popoverController=t,this.toastController=n,this.router=i,this.recipesLoader=o,this.registerForm=new r.d({name:new r.b("",r.m.required),calories:new r.b("",r.m.required),proteins:new r.b("",r.m.required),fats:new r.b("",r.m.required),carbs:new r.b("",r.m.required),instructions:new r.b("",r.m.required),preparationTime:new r.b("",r.m.required),ingredients:new r.b("",r.m.required),tips:new r.b("",r.m.required)})}ngOnInit(){}selectImage(e){e.target.files.length>0&&(this.images=e.target.files[0])}onSubmit(){const e=new FormData;e.append("file",this.images),e.append("name",this.registerForm.value.name),e.append("calories",this.registerForm.value.calories),e.append("proteins",this.registerForm.value.proteins),e.append("fats",this.registerForm.value.fats),e.append("carbs",this.registerForm.value.carbs),e.append("instructions",this.registerForm.value.instructions),e.append("preparationTime",this.registerForm.value.preparationTime),e.append("ingredients",this.registerForm.value.ingredients),e.append("tips",this.registerForm.value.tips),this.http.post("https://myfitmeals.herokuapp.com/recipes/",e).subscribe(e=>{this.presentToast("Recette ajout\xe9e avec succ\xe8s !"),console.log(e),this.recipesLoader.loadRecipes().then(e=>{this.router.navigate(["tabs/tab1"])})},e=>{console.log(e),this.presentToast("Echec d'ajout de la recette... !")})}presentToast(e){return Object(a.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:e,duration:1e3})).present()}))}}return e.\u0275fac=function(t){return new(t||e)(b.Jb(p.b),b.Jb(o.O),b.Jb(o.S),b.Jb(s.g),b.Jb(m.a))},e.\u0275cmp=b.Db({type:e,selectors:[["app-add-recipe"]],decls:48,vars:1,consts:[["slot","start"],["padding",""],[3,"formGroup"],["position","floating"],["type","text","name","recipeName","formControlName","name"],["type","number","name","calories","formControlName","calories"],["type","number","name","proteins","formControlName","proteins"],["type","number","name","fats","formControlName","fats"],["type","number","name","carbs","formControlName","carbs"],["type","text","name","instructions","formControlName","instructions"],["type","text","name","ingredients","formControlName","ingredients"],["type","number","name","preparationTime","formControlName","preparationTime"],["type","text","name","tips","formControlName","tips"],["type","file","name","image",3,"change"],["type","submit",2,"font-size","20px","margin-left","10px",3,"click"]],template:function(e,t){1&e&&(b.Ob(0,"ion-header"),b.Ob(1,"ion-toolbar"),b.Ob(2,"ion-buttons",0),b.Kb(3,"ion-back-button"),b.Nb(),b.Ob(4,"ion-title"),b.lc(5,"Ajouter une recette"),b.Nb(),b.Nb(),b.Nb(),b.Ob(6,"ion-content",1),b.Ob(7,"form",2),b.Ob(8,"ion-item"),b.Ob(9,"ion-label",3),b.lc(10,"Nom recette"),b.Nb(),b.Kb(11,"ion-input",4),b.Nb(),b.Ob(12,"ion-item"),b.Ob(13,"ion-label",3),b.lc(14,"Calories"),b.Nb(),b.Kb(15,"ion-input",5),b.Nb(),b.Ob(16,"ion-item"),b.Ob(17,"ion-label",3),b.lc(18,"Prot\xe9ines"),b.Nb(),b.Kb(19,"ion-input",6),b.Nb(),b.Ob(20,"ion-item"),b.Ob(21,"ion-label",3),b.lc(22,"Lipides"),b.Nb(),b.Kb(23,"ion-input",7),b.Nb(),b.Ob(24,"ion-item"),b.Ob(25,"ion-label",3),b.lc(26,"Glucides"),b.Nb(),b.Kb(27,"ion-input",8),b.Nb(),b.Ob(28,"ion-item"),b.Ob(29,"ion-label",3),b.lc(30,"Instructions"),b.Nb(),b.Kb(31,"ion-textarea",9),b.Nb(),b.Ob(32,"ion-item"),b.Ob(33,"ion-label",3),b.lc(34,"Ingredients"),b.Nb(),b.Kb(35,"ion-textarea",10),b.Nb(),b.Ob(36,"ion-item"),b.Ob(37,"ion-label",3),b.lc(38,"Temps de pr\xe9paration"),b.Nb(),b.Kb(39,"ion-input",11),b.Nb(),b.Ob(40,"ion-item"),b.Ob(41,"ion-label",3),b.lc(42,"Conseils"),b.Nb(),b.Kb(43,"ion-textarea",12),b.Nb(),b.Ob(44,"ion-item"),b.Ob(45,"ion-input",13),b.Wb("change",(function(e){return t.selectImage(e)})),b.Nb(),b.Nb(),b.Ob(46,"ion-button",14),b.Wb("click",(function(){return t.onSubmit()})),b.lc(47,"Ajouter recette"),b.Nb(),b.Nb(),b.Nb()),2&e&&(b.zb(7),b.bc("formGroup",t.registerForm))},directives:[o.r,o.H,o.g,o.c,o.d,o.G,o.n,r.n,r.j,r.e,o.v,o.w,o.u,o.R,r.i,r.c,o.L,o.F,o.f],styles:[""]}),e})()}];let c=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(l)],s.j]}),e})(),u=(()=>{class e{}return e.\u0275mod=b.Hb({type:e}),e.\u0275inj=b.Gb({factory:function(t){return new(t||e)},imports:[[i.b,r.f,o.I,r.l,c]]}),e})()}}]);